<!DOCTYPE html>
<html lang="en">
<head>
    <title>js task 5</title>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>

</head>
<style>
  h1{
    text-align: center;
  }
    .form-row {
    margin-bottom: 10px;
}


.form-input {
    display: block;
}

.form-error {
    color: rgb(253, 9, 9);
}
.container{
  background-color: rgb(247, 243, 233);
  border:1px solid black;
  width:600px;
  height:600px;
justify-content: center;
align-items: center;
margin-left:450px;
}


</style>

<body>
  <h1>fill out the given form</h1>
  <div class="container"> 
    <form>
        
        <div class="g-recaptcha" data-sitekey="your-recaptcha-site-key"></div>
        
      </form>

    <form id="contact-form" method="POST" action="sendmail.php">
        <div class="form-row form-error" style="display:none;"></div>
        <div class="form-row">
          
          
          <label for="contact-form-name">Name:</label>
          <input id="contact-form-name" class="form-input" type="text" name="name" required>
        </div>
        <div class="form-row">
          <label for="contact-form-email">Email:</label>
          <input id="contact-form-email" class="form-input" type="email" name="email" required>
        </div>
        <div class="form-row">
          <label for="contact-form-phone">Phone:</label>
          <input id="contact-form-phone" class="form-input" type="tel" name="phone">
        </div>
        <div class="form-row">
          <label for="contact-form-message">Message:</label>
          <textarea id="contact-form-message" class="form-input" name="message" required></textarea>
        </div>
        <button type="submit">Submit</button>
      
</form>
</div>
</body>

<script>
    document.getElementById("contact-form").addEventListener("submit", (event) => {
  const contactForm = event.target
  if (!validateContactForm(contactForm)) {
    event.preventDefault();
    displayError(contactForm, 'Invalid input')
  }
});

function isValidEmail(email) {
  
  const emailRegex = /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
  
  
  return emailRegex.test(email);
}


function isValidPhoneNumber(phone) {
  
  const phoneRegex = /^\d{10}$/;
  
  
  return phoneRegex.test(ult (true or false)phone);
}

function validateContactForm(contactForm) {
  // Get the values entered in the form fields
  const name = contactForm["name"].value;
  const email = contactForm["email"].value;
  const phone = contactForm["phone"].value;
  const message = contactForm["message"].value;

  if (!name || !email || !message) {
    return false;
  }

  
  if (!isValidEmail(email) || (phone && !isValidPhoneNumber(phone))) {
    return false;
  }

  return true;
}

function displayError(formElement, message) {
  const errorElement = formElement.getElementsByClassName("form-error")[0];
  
 
  errorElement.innerHTML = message;
  

  errorElement.style.display = "block";
}
</script>
</html>